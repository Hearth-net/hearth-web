<div class="box" ng-controller="CommunityInvitationCtrl as ctrl">
	<div class="block flex-grid">
		<div>
			<i class="fa fa-fw fa-2x block--leading-icon fa-envelope"></i>
		</div>
		<div class="flex-1">
			<h2 translate="COMMUNITY.INVITATION.BY_EMAIL"></h2>
			<label class="block">
				<div class="padding-bottom-tiny" translate="COMMUNITY.INVITATION.BY_EMAIL_DESCRIPTION"></div>
				<textarea class="text-input bottom" name="message" ng-model="ctrl.invitation.body" style="min-height:140px;"></textarea>
				<a href="" ng-click="ctrl.copyLink()" translate="COMMON.ACTION_COPY_TEXT_TO_CLIPBOARD"></a>
			</label>
		</div>
	</div>

	<div class="block flex-grid">
		<div>
			<i class="fa fa-fw fa-2x block--leading-icon fa-clone"></i>
		</div>
		<div class="flex-1">
			<h2 translate="COMMUNITY.INVITATION.BY_POSTER"></h2>
			<label class="block">
				<div class="padding-bottom-tiny" translate="COMMUNITY.INVITATION.BY_POSTER_DESCRIPTION"></div>
				<div class="clearfix" loading show="!ctrl.invitation.postsLoaded"></div>

				<div class="clearfix" ng-if="ctrl.invitation.postsLoaded && ctrl.invitation.posts.length >= 3">
					<a href="" ng-click="ctrl.generatePoster(1)" class="poster">
						<div class="poster-content" ng-bind-html="'COMMUNITY.INVITATION.PREVIEW1' | translate"></div>
						{{ 'COMMUNITY.INVITATION.PREVIEW1_TITLE' | translate }}
					</a>
					<a href="" ng-click="ctrl.generatePoster(2)" class="poster">
						<div class="poster-content" ng-bind-html="'COMMUNITY.INVITATION.PREVIEW2' | translate"></div>
						{{ 'COMMUNITY.INVITATION.PREVIEW2_TITLE' | translate }}
					</a>
				</div>
			</label>

			<label class="block margin-top-large" ng-if="!ctrl.invitation.postsExpanded">
				<a href="" ng-click="ctrl.invitation.postsExpanded = true" translate="COMMUNITY.INVITATION.ACTION_CHOOSE_POSTS"></a>
			</label>

			<label class="block margin-top-large" ng-if="ctrl.invitation.postsExpanded == true">
				<a href="" ng-click="ctrl.invitation.postsExpanded = false" translate="COMMUNITY.INVITATION.ACTION_HIDE_POSTS"></a>
				<div class="">
					<div ng-repeat="post in ctrl.invitation.posts">
						<checkbox model="post.checked"><span>{{ post.author.first_name }}:&nbsp;</span><span ng-if="!post.isInfoGift" ng-class=":: 'color-' + post.type" translate="{{:: post.postTypeCode }}"></span><span ng-if="!post.isInfoGift">&nbsp;</span>{{ post.title }}</checkbox> 
					</div>
				</div>
			</label>
		</div>
	</div>


</div>