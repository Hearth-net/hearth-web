<h1 class="text-center" translate="LOGIN_HEADING"></h1>

<div class="box register-login-dialog">
	<div class="head">
		<span ng-click="closeThisDialog()" class="close fa fa-times"></span>
	</div>
	<form ng-submit="login(data)" name="loginForm" novalidate class="register-login-form" test-beacon="login-form">
		<div ng-if="showMsgOnlyLogged">
			<div class="alert-box alert">
				<i class="fa fa-exclamation-triangle"></i>{{ 'LOGIN_REQUIRED' | translate }}
			</div>
		</div>
		<div ng-if="loginError">
			<div class="alert-box alert radius">
				<i class="fa fa-exclamation-triangle"></i>{{ 'ACCOUNT.LOGIN.LOGIN_FAILED' | translate }}
			</div>
		</div>
		<p ng-show="showError.badCredentials" class="error" test-beacon="login-bad-credentials">{{ 'LOGIN_BAD_CREDENTIALS' | translate }}</p>
		<p ng-show="showError.inactiveAccount" class="error" translate="LOGIN_INACTIVE_ACCOUNT" translate-compile translate-values="{'attrs': 'ng-click=\'resendActivationEmail()\''}"></p>

		<label for="email" class="block">
			<span translate="EMAIL_PLACEHOLDER"></span>
			<input id="email" type="email" validate-email admin-email name="username" class="login_name" ng-model="data.username" ng-model-options="{ updateOn: 'blur' }" class="form-control text-input top" required />
			<div ng-show="loginForm.username.$dirty && loginForm.username.$invalid" class="form-error">
				<span ng-show="loginForm.username.$error.email" translate="SIGNUP_ERR_BAD_EMAIL_FORMAT"></span>
			</div>
		</label>

		<label for="password" class="block">
			<span translate="PASS_PLACEHOLDER"></span>
			<input id="password" type="password" class="login_password" name="password" ng-model="data.password" ng-model-options="{ updateOn: 'blur' }" ng-minlength="4" class="form-control text-input top" required />
			<div ng-show="loginForm.password.$dirty && loginForm.password.$invalid" class="form-error">
				<span ng-show="loginForm.password.$error.minlength">{{ 'SIGNUP_ERR_SHORT_PASSWORD' | translate }}</span>
			</div>
		</label>

		<div class="block text-center">
			<button class="button" type="submit" test-beacon="login-button">
				<i class="fa fa-sign-in"></i> {{ 'LOGIN_BUTTON' | translate }}
			</button>
		</div>

		<p>
			<a ng-click="closeModal()" href="{{ basePath }}forgotten-password">{{ 'HAVE_YOU_FORGOT_PASS' | translate }}</a>
		</p>
		<div class="clear"></div>
		<hr/>
		<p ng-show="showError.noOauthAccountFound" class="oauth-error" ng-bind-html="'LOGIN_NO_OAUTH_ACCOUNT_FOUND' | translate: {registerUrl:basePath + 'register'}"></p>
		<div class="social-login">
			<p>{{ 'ACCOUNT.LOGIN.VIA_SOCIAL_NETWORKS' | translate }}</p>
			<a ng-click="oauthLogin('facebook')" class="fa fa-facebook"></a>
			<a ng-href="{{ twitterAuthUrl }}" class="fa fa-twitter"></a>
			<a ng-click="oauthLogin('google')" class="fa fa-google"></a>
		</div>
		<hr/>
		<div class="bottom">
			<div>
				{{ 'DONT_HAVE_ACCOUNT_YET' | translate }}
				<a ng-click="closeModal()" href="{{ basePath }}register">{{ 'SIGNUP' | translate }}</a>
			</div>
		</div>
	</form>
</div>
