<div class="profile-view" ng-show="loaded" ng-class="{'mine-profile': mine, 'others-profile': ! mine}">

    <div class="user" ng-show="! info">
        <p>{{ 'ERR_USER_NOT_FOUND' | translate }}</p>
    </div>
    <header ng-show="info">
        <div class="user-basic">
            <h1><a href="#!/profile/{{info._id}}"><span>{{ info.name }}</span></a></h1>
            <p ng-if="mine && info.about"><span class="fa fa-quote-right"></span>{{info.about | ellipsis}}</p>
        </div>
        <div class="buttons">
            <button ng-if="mine" class="invite-button blue">
                <i class="fa fa-forward"></i> <span ng-bind-html="'INVITE_FRIENDS_TO_HEARTH' | translate"></span>
            </button> 
            <a href="#!/profile-edit" class="mine right"><button><i class="fa fa-gears"></i> {{ 'SETTINGS' | translate}}</button></a>
            <button ng-if="!info.is_followed" class="others follow-button blue right" ng-click="toggleFollow(info._id)"><i class="fa fa-forward"></i> {{ 'FOLLOW_BUTTON_CAPTION' | translate}}</button>
            <button ng-if="info.is_followed" class="others follow-button blue right" ng-click="toggleFollow(info._id)"><i class="fa fa-times"></i> {{ 'UNFOLLOW_BUTTON_CAPTION' | translate}}</button>
        </div>
        <div class="highlights">
            <a href="#!/profile/{{info._id}}" class="profile-photo" style="background-image: url('{{info.avatarStyle}}');"></a>
            <a href="#!/profile/{{info._id}}/following" class="friends-and-follows">
                <b>{{info.followers_count}}</b>
                <br />
                <pluralize-translate count="info.followers_count" key="'HOW_MANY_PLEOPLE'"></pluralize-translate>
                <span ng-if="mine">{{ 'INSPIRED_BY_ME' | translate }}</span>
                <span ng-if="!mine">{{ 'INSPIRED_BY_HIM' | translate }}</span>
                <hr>
                <strong>{{info.followees_count}}</strong> <pluralize-translate count="info.followees_count" key="'BY_PLEOPLE'"></pluralize-translate>
                <br />{{ 'IS_INSPIRED' | translate }}
            </a>
            <a href="#!/profile/{{info._id}}/communities" class="communities"><b>{{info.communities_count}}</b> 
                <pluralize-translate count="info.communities_count" key="'COMMUNITS'"></pluralize-translate>
            </a>
            <a href="#!/profile/{{info._id}}/posts" class="ratings"><b>{{info.post_count}}</b><br>
                <pluralize-translate count="info.post_count" key="'GIVES_AND_WISHES'"></pluralize-translate>
            </a>
            <div class="karma-bar" ng-if="info.karma != null"><span class="positive" style="width:{{info.karma}}%;">{{ info.karma }}% <i class="fa fa-sun-o"></i></span><span class="negative" style="width:{{100 - info.karma}}%;"><i class="fa fa-moon-o"></i> {{100 - info.karma}}%</span></div>
        </div>
    </header>
    <div class="clear"></div>
    <div ng-show="info" ng-cloak app-view-segment="1"></div>
</div>