<article class="_item {{item.type}} row" id="post_{{:: item._id }}">
  <!-- MARKET ITEM Start -->
  <div class="medium-2 columns">
    <!-- MARKET ITEM AVATAR Start -->
    <div class="row v-m-small">
      <div class="_avatar small-3 medium-12 columns">
        <div class="_photo">
          <a ng-href="{{:: getProfileLink(item.author._type, item.author._id) }}">
            <img ng-src="{{item.author.avatar.large}}" alt="{{item.author.name}}"/>
          </a>
        </div>
        <div class="_name show-for-medium-up">
          <a ng-href="{{:: getProfileLink(item.author._type, item.author._id) }}">{{ item.author.name }}</a>
        </div>
      </div>
      <div class="_karma small-3 medium-12 columns">
        <div class="karma" ng-class="{empty: !item.karma}"
             title="{{:: 'COUNT_OF_PLUS_POINTS' | translate }}: {{:: item.author.up_votes }} | {{:: 'COUNT_OF_MINUS_POINTS' | translate }}: {{:: item.author.down_votes }}">
          <div class="positive" style="width:{{:: item.karma}}"></div>
        </div>
      </div>
      <div class="small-6 columns hidden-for-medium-up">
        <span>{{item.updated_at | ago}}</span>
      </div>
    </div>
  </div>
  <!-- MARKET ITEM AVATAR End -->
  <!-- MARKET ITEM CONTENT Start -->
  <div class="medium-10 columns">
    <div class="_content">
      <div class="_title clearfix">
        <h2 class="left">
          <a ng-href="{{:: getProfileLink('Post', item._id)}}">
            <span>{{ postTypes[item.author._type][item.type] | translate }}</span>
            {{item.title}}
          </a>
        </h2>
        <span class="right show-for-medium-up">{{item.updated_at | ago}}</span>
      </div>

      <p class="location"><i class="fa fa-map-marker"></i>
        <span ng-if="item.location_unlimited">{{:: 'MARKETPLACE.POST.LOCATION_ANYWHERE_HEADING' | translate }}</span>
        <span ng-if="!item.location_unlimited">
          <span ng-repeat="(locationId, location) in item.locations" ng-if="location.address">
						{{ location.short_address }}<span ng-if="!$last">;</span>
					</span>
        </span>
      </p>

      <div ng-if="item.name.length < 270 || marketplace.expanded == true">
        <p ng-bind-html="item.name | linky:'_blank' | nl2br"></p>
      </div>
      <div ng-if="item.name.length >= 270 && !marketplace.expanded">
        <p>
          <span ng-bind-html="item.name_short | linky:'_blank'"></span> <a> {{:: 'MARKETPLACE.POST.CLICK_TO_EXPAND' |
          translate }}</a>
        </p>
      </div>

      <p class="thumbnails" ng-if="item.attachments_attributes.length">
        <a class="th" ng-repeat="photo in item.attachments_attributes track by $index" ng-href="{{ photo.large }}"
           rel="{{:: item._id }}">
          <img ng-src="{{photo.normal}}" width="163" height="122"/>
        </a>
      </p>

      <p class="labels" ng-if="item.keywords.length">
        <span ng-repeat="tag in item.keywords"><span ng-click="toggleTag(tag)"
                                                     ng-class="{'secondary': keywords.indexOf(tag) !== -1}"
                                                     class="label"
                                                     ng-bind-html="tag"/> </span>
      </p>

      <div class="_action row">
        <div class="medium-5 large-4 columns">
          <a ng-if="!item.is_replied && !mine" ng-click="replyItem(item)" data-item-type="{{ item.type }}"
             class="button expand" ng-bind-html="replyLabel[item.type] | translate">
          </a>
          <span ng-if="item.is_replied">
            {{:: 'YOU_HAVE_ALREADY_REPLIED_TO_THIS_POST' | translate }}
          </span>
        </div>
        <div class="medium-7 large-8 columns small-only-text-center">
          <span ng-if="item.reply_count && mine">
            <a class="reply-info-link" ng-href="{{:: getProfileLink('Post', item._id) }}#replies"
               ng-bind-html="replyCountTexts[item.type]+'.'+pluralCat(item.reply_count) | translate:{value: item.reply_count}"></a>
          </span>
          <span ng-if="item.reply_count && !mine"
                ng-bind-html="replyCountTexts[item.type]+'.'+pluralCat(item.reply_count) | translate:{value: item.reply_count}"></span>
          <span ng-if="!item.reply_count">{{:: 'NO_REPLY' | translate}}</span>
        </div>
      </div>
    </div>
    <!-- MARKET ITEM CONTENT End -->
  </div>
  <!-- MARKET ITEM End -->
</article>
