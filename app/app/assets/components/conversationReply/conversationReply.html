<div class="message-reply">
	<form novalidate name="msgReplyForm" ng-submit="sendReply(reply); focusInput('#reply-text');" class="formStyle">
		<label for="reply-text">
			<div class="author-info">
				<div ng-if="actors.length == 1 && actors[0]._type != 'Community'">
					{{:: 'MESSAGES.REPLY.TEXT_LABEL' | translate }}
				</div>
				<div ng-if="actors.length == 1 && actors[0]._type == 'Community'">
					<strong>{{ 'MESSAGES.REPLY_AS_COMMUNITY' | translate }}</strong>
					<avatar src="actors[0].avatar.normal" type="actors[0]._type" class="" size="mini"></avatar>
					<span>{{ actors[0].name | ellipsis:55 }}</span>
				</div>
			</div>
		</label>
		<div class="form-section">
			<author-selector ng-if="actors.length > 1" id="author" author-id="reply.current_community_id" author-list="actors"></author-selector>
			<textarea ctrl-enter-submit ng-disabled="!conversation.is_member" rows="1" id="reply-text" name="text" autosize-textarea resized="onResize()" ng-required="true" ng-attr-placeholder="{{:: 'MESSAGES.REPLY.TEXT_PLACEHOLDER' | translate }}" ng-model="reply.text"></textarea>
			<div class="error" ng-show="msgReplyForm.text.$invalid && showError.text">
				<span ng-show="msgReplyForm.text.$error.required">{{:: 'ERR_MESSAGE_TEXT_MIN_LEN' | translate }}</span>
			</div>
		</div>
		<div id="message-footer" class="display-flex flex-space-between flex-reverse">
			<div class="display-flex flex-reverse">
				<button ng-disabled="!conversation.is_member || sendingReply" type="submit" class="button-send">
					<i class="fa has-loading-icon" ng-class="{'loading-in-progress': sendingReply}"></i>
					{{:: 'SEND' | translate }}
				</button>
				<files-picker ng-model="reply.attachments_attributes" files-multiple="true"></files-picker>
			</div>
			<div>
				<a class="hide-for-large-up cancel-changes" ui-sref="messages">{{:: 'CLOSE' | translate }}</a>
			</div>
		</div>
	</form>
</div>